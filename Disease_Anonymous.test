<?php
/**
As a developer, I want a regression test to prove that the fields and diseases pages of iWheat.org are not affected by a change.
*/

class DiseaseAnonymous extends FirstRemoteTestCase {
  public static function getInfo() {
    return array(
      'name' => 'Field and Disease change test',
      'description' => 'Tests page overlay when not logged in',
      'group' => 'iWheat',
    );
  }

  function setUp()
  {
    parent::setUp(array('node'));
  }
  function testDiseaseLinks()
  {
    module_enable(array('contact'));
    $this->resetAll();

    $this->drupalGet('');
    $this->DiseaseListCheck();
  }
  function DiseaseListCheck()
  {

    //checks for variety support system at the top
    $this->assertElementByXPath('//ul[@class="menu links inline"]//li[@class="expanded active-trail active menu-mlid-1120"]//a[@href="/toolshed/selector"]', array(), 'Variety Support System found.');

    //checks for Diseases link below variety support system
    $this->assertElementByXPath('//ul[@class="tabs primary clearfix"]//li[@class="active"]//a[@href="/toolshed/selector/diseases"]', array(), 'Diseases found.');

    //checks for Barley yellow dwarf
    $this->assertElementByXPath('//tr[@class="odd views-row-first"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/barley-yellow-dwarf"]', array(), 'Barley yellow dwarf found.');

    //checks for Barley yellow dwarf virus 
    $this->assertElementByXPath('//tr[@class="even"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/barley-yellow-dwarf-virus-bydv"]', array(), 'Barley yellow dwarf virus (BYDV) found.');

    //checks for common bunt/stinking smut
    $this->assertElementByXPath('//tr[@class="odd"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/common-buntstinking-smut"]', array(), 'Common Bunt/Stinking Smut found.');

    //checks for common foot rot
    $this->assertElementByXPath('//tr[@class="even"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/common-root-rot"]', array(), 'Common root rot found.');

    //checks for dryland foot rot
    $this->assertElementByXPath('//tr[@class="odd"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/dryland-foot-rot"]', array(), 'Dryland foot rot found.');

    //checks for glume blotch
    $this->assertElementByXPath('//tr[@class="even"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/glume-blotch"]', array(), 'Glume blotch found.');

    //checks for head scab
    $this->assertElementByXPath('//tr[@class="odd"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/head-scab"]', array(), 'Head scab found.');

    //checks for leaf rust
    $this->assertElementByXPath('//tr[@class="even"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/leaf-rust"]', array(), 'Leaf rust found.');

    //checks for loose smut
    $this->assertElementByXPath('//tr[@class="odd"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/loose-smut"]', array(), 'Loose Smut found.');

    //checks for powdery mildew
    $this->assertElementByXPath('//tr[@class="even"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/powdery-mildew"]', array(), 'Powdery mildew found.');

    //checks for septoria
    $this->assertElementByXPath('//tr[@class="odd"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/septoria"]', array(), 'Septoria found.');

    //checks for septoria-tritici-blotch
    $this->assertElementByXPath('//tr[@class="odd"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/septoria-tritici-blotch"]', array(), 'Septoria tritici blotch found.');

    //checks for soil-borne mosaic
    $this->assertElementByXPath('//tr[@class="even"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/soil-borne-mosaic"]', array(), 'Soil-borne mosaic found.');

    //checks for Soil-borne mosaic virus
    $this->assertElementByXPath('//tr[@class="odd"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/soil-borne-mosaic-virus"]', array(), 'Soil-borne mosaic virus found.');

    //checks for speckled-leaf blotch
    $this->assertElementByXPath('//tr[@class="even"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/speckled-leaf-blotch"]', array(), 'Speckled leaf blotch found.');

    //checks for Spindle streak mosaic
    $this->assertElementByXPath('//tr[@class="odd"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/spindle-streak-mosaic"]', array(), 'Spindle streak mosaic found.');

    //checks for Spindle streak mosaic virus
    $this->assertElementByXPath('//tr[@class="even"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/spindle-streak-mosaic-virus"]', array(), 'Spindle streak mosaic virus found.');

    //checks for Stem rust
    $this->assertElementByXPath('//tr[@class="odd"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/stem-rust"]', array(), 'Stem rust found');

    //checks for stripe rust
    $this->assertElementByXPath('//tr[@class="even"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/stripe-rust"]', array(), 'Stripe rust found');

    //checks for take-all
    $this->assertElementByXPath('//tr[@class="odd"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/take-alls"]', array(), 'Take-all found');

    //checks for tan spot
    $this->assertElementByXPath('//tr[@class="even"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/tan-spot"]', array(), 'Tan spot found');

   //checks for What streak mosaic virus
    $this->assertElementByXPath('//tr[@class="odd views-row-last"]//td[@class="views-field views-field-title active views-align-center"]//a[@href="/disease/wheat-streak-mosaic-virus"]', array(), 'Wheat Streak Mosaic Virus found');
  }
}

